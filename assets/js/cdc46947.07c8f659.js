"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[66],{667:function(e,t,a){a.r(t),a.d(t,{assets:function(){return g},contentTitle:function(){return h},default:function(){return w},frontMatter:function(){return u},metadata:function(){return k},toc:function(){return v}});var n=a(7462),o=a(3366),l=(a(7294),a(3905)),i=a(719),s=a(1552),r=a(6435),d=a(2004),m=a(5488),p=a(5162),c=["components"],u={sidebar_position:2},h="Docker Installation",k={unversionedId:"getting-started/dockerInstallation",id:"getting-started/dockerInstallation",title:"Docker Installation",description:"Leemons can be installed as a containerized app. This is useful for automatizing processes and avoiding installing all the needed dependencies on your system.",source:"@site/docs/getting-started/dockerInstallation.mdx",sourceDirName:"getting-started",slug:"/getting-started/dockerInstallation",permalink:"/leemons-docs/getting-started/dockerInstallation",draft:!1,editUrl:"https://github.com/leemonade/leemons-docs/tree/main/docs/getting-started/dockerInstallation.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Installation",permalink:"/leemons-docs/getting-started/installation"},next:{title:"Administration",permalink:"/leemons-docs/category/administration"}},g={},v=[{value:"1. Requirements",id:"1-requirements",level:2},{value:"Docker and Docker Compose",id:"docker-and-docker-compose",level:3},{value:"2. Download",id:"2-download",level:2},{value:"Project structure",id:"project-structure",level:3},{value:"Project structure rundown",id:"project-structure-rundown",level:3},{value:"3. Bulk data creation template configuration",id:"3-bulk-data-creation-template-configuration",level:2},{value:"Template file",id:"template-file",level:3},{value:"4. Database",id:"4-database",level:2},{value:"5. Run your Leemons \ud83d\ude80",id:"runYourLeemons",level:2},{value:"6. Test your Leemons \ud83d\udc69\u200d\ud83d\udcbb",id:"6-test-your-leemons-",level:2}],N={toc:v};function w(e){var t=e.components,a=(0,o.Z)(e,c);return(0,l.kt)("wrapper",(0,n.Z)({},N,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"docker-installation"},"Docker Installation"),(0,l.kt)("p",null,"Leemons can be installed as a containerized app. This is useful for automatizing processes and avoiding installing all the needed dependencies on your system."),(0,l.kt)("h2",{id:"1-requirements"},"1. Requirements"),(0,l.kt)("h3",{id:"docker-and-docker-compose"},"Docker and Docker Compose"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://www.docker.com/"},"Docker")," allows us to deploy all the necessary parts for leemons to work, making it fast, easy, and predictable. We use the ",(0,l.kt)("a",{parentName:"p",href:"https://docs.docker.com/compose/"},"docker-compose")," tool for managing the multi-container deployment, so you need to do less work and enjoy Leemons quicker!"),(0,l.kt)("p",null,"You can install Docker and Docker Compose through ",(0,l.kt)("a",{parentName:"p",href:"https://docs.docker.com/compose/install/"},"their website"),"."),(0,l.kt)("h2",{id:"2-download"},"2. Download"),(0,l.kt)(m.Z,{mdxType:"Tabs"},(0,l.kt)(p.Z,{value:"direct",label:"Direct",default:!0,mdxType:"TabItem"},(0,l.kt)("p",null,"You can download the latest version of Leemons directly from Github."),(0,l.kt)(i.xu,{style:{marginBottom:40},mdxType:"Box"},(0,l.kt)(s.zx,{rightIcon:(0,l.kt)(r._8t,{mdxType:"DownloadIcon"}),onClick:function(){return window.open("https://github.com/leemonade/leemons/archive/refs/heads/main.zip","_blank")},mdxType:"Button"},"Download Leemons")),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"DIRECTORY NAMING")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"For the purposes of this documentation, we are assuming that the folder generated by the archive, once unzipped, will be named ",(0,l.kt)("inlineCode",{parentName:"p"},"my-leemons"),".")))),(0,l.kt)(p.Z,{value:"git",label:"Clone with git",mdxType:"TabItem"},(0,l.kt)("p",null,"You need ",(0,l.kt)("a",{parentName:"p",href:"https://git-scm.com/downloads"},"git")," to be installed in your machine, you can check it by running in your terminal:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"git --version\n")),(0,l.kt)("p",null,"Navigate to the path where you want to download Leemons. For the purposes of this documentation, the destination path will be ",(0,l.kt)("inlineCode",{parentName:"p"},"my-leemons"),"."),(0,l.kt)("p",null,"Then clone the repository:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cd my-leemons\ngit clone https://github.com/leemonade/leemons.git .\n")))),(0,l.kt)("h3",{id:"project-structure"},"Project structure"),(0,l.kt)("p",null,"Assuming you have already downloaded or cloned Leemons to a directory named ",(0,l.kt)("inlineCode",{parentName:"p"},"my-leemons"),", you will see the following minimal structure (we hide some folders and files for display purposes):"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"my-leemons\n\u251c\u2500\u2500 docker\n\u251c\u2500\u2500 examples\n\u2502   \u2514\u2500\u2500 docker\n\u251c\u2500\u2500 packages\n\u2502   \u251c\u2500\u2500 leemons\n\u2502   \u251c\u2500\u2500 leemons-utils\n\u2502   \u251c\u2500\u2500 leemons-database\n\u2502   \u251c\u2500\u2500 leemons-plugin-academic-calendar\n\u2502   \u251c\u2500\u2500 leemons-plugin-academic-portfolio\n\u2502   \u251c\u2500\u2500 leemons-plugin-assignables\n\u2502   \u251c\u2500\u2500 leemons-plugin-bulk-template\n\u2502   \u251c\u2500\u2500 leemons-plugin-calendar\n\u2502   \u251c\u2500\u2500 leemons-plugin-curriculum\n\u2502   \u251c\u2500\u2500 leemons-plugin-dashboard\n\u2502   \u251c\u2500\u2500 leemons-plugin-dataset\n\u2502   \u251c\u2500\u2500 leemons-plugin-emails\n\u2502   \u251c\u2500\u2500 leemons-plugin-grades\n\u2502   \u251c\u2500\u2500 leemons-plugin-scores\n\u2502   \u251c\u2500\u2500 leemons-plugin-tasks\n\u2502   \u251c\u2500\u2500 leemons-plugin-tests\n\u2502   \u251c\u2500\u2500 leemons-plugin-timetable\n\u2502   \u251c\u2500\u2500 leemons-plugin-users\n\u2502   \u2514\u2500\u2500 leemons-react\n\u251c\u2500\u2500 package.json\n\u2514\u2500\u2500 yarn.lock\n")),(0,l.kt)("h3",{id:"project-structure-rundown"},"Project structure rundown"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"/docker/")," - Contains the docker files needed to run Leemons."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"/examples/")," - Contains the applications examples.",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"/examples/docker/")," - Contains the docker application we will use in this documentation."))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"/packages/")," - Contains all the ",(0,l.kt)("a",{parentName:"li",href:"../category/plugins"},"plugins")," and ",(0,l.kt)("a",{parentName:"li",href:"../category/packages"},"packages")," of Leemons.")),(0,l.kt)("h2",{id:"3-bulk-data-creation-template-configuration"},"3. Bulk data creation template configuration"),(0,l.kt)("p",null,'While we finish developing our Welcome Wizard, Leemons allows you to install the platform thanks to our "Bulk Templates".'),(0,l.kt)("p",null,"These templates allow you to choose between three different programs according to your needs and can be customized at a later stage."),(0,l.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"Download the template and see the tutorial")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"The easiest way to understand how our template works is to watch this short video tutorial."),(0,l.kt)("p",{parentName:"div"},"When open the Google spreadsheet file, please, create a copy first if you want to edit."),(0,l.kt)("p",{parentName:"div"},"To download the excel file, please go to File > Download > Microsoft Excel (.xlsx)"))),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://docs.google.com/spreadsheets/d/1dXX79cTzn2R9e9SRoL_pmmuw1EacxS_hm6XWUxGkQew/edit?usp=sharing"},"Spain Secundary (ESO) Spreadsheet")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://docs.google.com/spreadsheets/d/1WNmhK94Q8ZzXZY39ily_rZCVCGAeCkOauaFv2auNGOE/edit?usp=sharing"},"High School (USA) Spreadsheet")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://docs.google.com/spreadsheets/d/1bdlTh5fIbGDjza1w85tvuqBA8W8tOZ10NPqXqqWrT_w/edit?usp=sharing"},"Corporate Training Spreadsheet"))),(0,l.kt)(i.xu,{mb:40,mdxType:"Box"},(0,l.kt)(d.Z,{url:"https://youtube.com/playlist?list=PLKpBzQRIcGB8RIExOHZyvwH9Aki7Hed0e",controls:!0,mdxType:"ReactPlayer"})),(0,l.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"ALL CENTERS")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"If you're feeling lucky, you can try our all-in-one template, which includes ESO, High School and Corporate."),(0,l.kt)("p",{parentName:"div"},"We only recommend this if you are an experienced developer."),(0,l.kt)("ul",{parentName:"div"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://docs.google.com/spreadsheets/d/1D29a5I9h7JP5PUiPxE0S6yYs6HwPTKlmXgPpZQMfZwY/edit?usp=sharing"},"ALL CENTERS TEMPLATE Spreadsheet"))))),(0,l.kt)("h3",{id:"template-file"},"Template file"),(0,l.kt)("p",null,"Once you have downloaded and completed the template file, rename it to ",(0,l.kt)("inlineCode",{parentName:"p"},"data.xlsx")," and copy it to the folder:"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"my-leemons/packages/leemons-plugin-bulk-templates/src/bulk/data.xlsx")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"my-leemons\n\u2514\u2500\u2500 packages\n    \u2514\u2500\u2500 leemons-plugin-bulk-template\n        \u2514\u2500\u2500 src\n            \u2514\u2500\u2500 bulk\n                \u2514\u2500\u2500 data.xlsx\n")),(0,l.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"IMPORTANT")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"In case you have not set up an external storage provider, check that the following folder exists:"),(0,l.kt)("p",{parentName:"div"},(0,l.kt)("inlineCode",{parentName:"p"},"my-leemons/packages/leemons-plugin-leebrary/files")),(0,l.kt)("p",{parentName:"div"},"If the folder does not exist, please create it."))),(0,l.kt)("h2",{id:"4-database"},"4. Database"),(0,l.kt)("p",null,"Leemons is prepared to support both SQL and NoSQL databases. In the beta version, we only support a SQL database."),(0,l.kt)("p",null,"In Leemons for Docker, you will only need to set up the database, and we will keep in charge of everything else."),(0,l.kt)("p",null,"To provide the database config, you must create the following file:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:"title=/examples/docker/.env",title:"/examples/docker/.env"},"DATABASE_DATABASE=leemons\nDATABASE_USERNAME=leemons\nDATABASE_PASSWORD=leemons\n")),(0,l.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"IMPORTANT")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"The file must not have extension, we recommend you to enable extensions view in your operating system."),(0,l.kt)("p",{parentName:"div"},"We also recommend you to enable the hidden files in your operating system, because this file could be hidden by your operating system."))),(0,l.kt)("p",null,"You can change the name, username and password."),(0,l.kt)("h2",{id:"runYourLeemons"},"5. Run your Leemons \ud83d\ude80"),(0,l.kt)("p",null,"The deployed directory will be DIRECTORY, but you must go to DOCKER DIRECTORY and run the docker app."),(0,l.kt)(m.Z,{mdxType:"Tabs"},(0,l.kt)(p.Z,{value:"linux",label:"macOS and Linux",default:!0,mdxType:"TabItem"},"The installation For macOS and Linux is as easy as running from the terminal:",(0,l.kt)("p",null,"The directory must be ",(0,l.kt)("inlineCode",{parentName:"p"},"/docker"),"."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"sh start.sh\n"))),(0,l.kt)(p.Z,{value:"windows",label:"Windows",mdxType:"TabItem"},"Windows has no automated launch right now, but you can run it from the terminal as follows:",(0,l.kt)("p",null,"The directory must be ",(0,l.kt)("inlineCode",{parentName:"p"},"/docker"),"."),(0,l.kt)("p",null,"Firstly, we launch leemons terminating the old-unused containers in detached mode, so we can still use the terminal:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"docker compose up -d --remove-orphans --env-file ../examples/docker/.env\n")),(0,l.kt)("p",null,"Once the app is up and running, we will install the dependencies if needed (the command will decide if it is needed or not) by the command:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"docker compose exec leemons-yarn-install sh installDeps.sh\n")),(0,l.kt)("p",null,"Finally, we will follow the app output so you can know when everything is ready to enjoy Leemons:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"docker compose logs -f\n")))),(0,l.kt)("h2",{id:"6-test-your-leemons-"},"6. Test your Leemons \ud83d\udc69\u200d\ud83d\udcbb"),(0,l.kt)("p",null,"Once the frontend server ir running, test your Leemons application by opening the main URL ",(0,l.kt)("a",{parentName:"p",href:"http://localhost:8080"},"http://localhost:8080")," in your browser."))}w.isMDXComponent=!0}}]);
"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[66],{1973:function(e,n,t){t.r(n),t.d(n,{assets:function(){return h},contentTitle:function(){return c},default:function(){return v},frontMatter:function(){return m},metadata:function(){return p},toc:function(){return u}});var a=t(7462),o=t(3366),i=(t(7294),t(3905)),s=(t(6435),t(2004),t(5488)),l=t(5162),r=t(3066),d=["components"],m={sidebar_position:2},c="Docker Installation",p={unversionedId:"getting-started/dockerInstallation",id:"getting-started/dockerInstallation",title:"Docker Installation",description:"Leemons can be installed as a containerized app. This is useful for automatizing processes and avoiding the need of installing all the required dependencies on your system.",source:"@site/docs/getting-started/dockerInstallation.mdx",sourceDirName:"getting-started",slug:"/getting-started/dockerInstallation",permalink:"/leemons-docs/es/getting-started/dockerInstallation",draft:!1,editUrl:"https://github.com/leemonade/leemons-docs/tree/main/docs/getting-started/dockerInstallation.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Installation",permalink:"/leemons-docs/es/getting-started/installation"},next:{title:"Administration",permalink:"/leemons-docs/es/category/administration"}},h={},u=[{value:"1. Requirements",id:"1-requirements",level:2},{value:"Docker and Docker Compose",id:"docker-and-docker-compose",level:3},{value:"2. Download",id:"2-download",level:2},{value:"3. Bulk data creation template configuration",id:"3-bulk-data-creation-template-configuration",level:2},{value:"4. Initial configuration",id:"4-initial-configuration",level:2},{value:"5. Database",id:"5-database",level:2},{value:"6. Reset the installation",id:"6-reset-the-installation",level:2}],k={toc:u};function v(e){var n=e.components,m=(0,o.Z)(e,d);return(0,i.kt)("wrapper",(0,a.Z)({},k,m,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"docker-installation"},"Docker Installation"),(0,i.kt)("p",null,"Leemons can be installed as a containerized app. This is useful for automatizing processes and avoiding the need of installing all the required dependencies on your system."),(0,i.kt)("h2",{id:"1-requirements"},"1. Requirements"),(0,i.kt)("h3",{id:"docker-and-docker-compose"},"Docker and Docker Compose"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://www.docker.com/"},"Docker")," makes it possible to deploy all the necessary parts for leemons to work, making it fast, easy, and predictable. We use the ",(0,i.kt)("a",{parentName:"p",href:"https://docs.docker.com/compose/"},"docker-compose")," tool for managing the multi-container deployment, so there is less work to do and Leemons can be enjoyed even quicker!"),(0,i.kt)("p",null,"You can install Docker and Docker Compose through ",(0,i.kt)("a",{parentName:"p",href:"https://docs.docker.com/compose/install/"},"the docker website"),"."),(0,i.kt)("h2",{id:"2-download"},"2. Download"),(0,i.kt)("p",null,"First of all you need to download leemons on your computer or sever, don't worry, this one is the easier step :D."),(0,i.kt)(s.Z,{mdxType:"Tabs"},(0,i.kt)(l.Z,{value:"windows",label:"Windows",mdxType:"TabItem"},(0,i.kt)("p",null,"  Using leemons-docker in windows is as easy as run a PowerShell script, this script will generate all the needed files."),(0,i.kt)("p",null,"  Download the file ahead to your desired directory (keep in mind it will generate files)."),(0,i.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Download name and directory")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"  We recommend downloading in: ",(0,i.kt)("inlineCode",{parentName:"p"},"/my-docker-leemons/leemons.ps1")))),(0,i.kt)("p",null,"  ",(0,i.kt)("a",{target:"_blank",href:t(3431).Z},"Download leemons.ps1")),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Or see the code"),(0,i.kt)(r.Z,{language:"powershell",title:"leemons.ps1",showLineNumbers:!0,mdxType:"CodeBlock"},'$FILE="./docker-compose.yaml"\n\ntry {\n  $OUTPUT=docker --version\n\n  echo "Docker is installed"\n}\ncatch {\n  echo "Please install Docker before continue!"\n  Pause\n  exit 0\n}\n\ntry {\n  $OUTPUT=docker-compose --version\n\n  echo "docker-compose is installed"\n} catch {\n  echo "Please install docker-compose before continue!"\n  Pause\n  exit 0\n}\n\nif ( Test-Path -Path $FILE -PathType Leaf ) {\n  echo "Config files already created."\n} else {\n@"\nMYSQLDB_USER=root\nMYSQLDB_ROOT_PASSWORD=leemons\nMYSQLDB_DATABASE=leemons\nMYSQLDB_LOCAL_PORT=3307\nNODE_LOCAL_PORT=8080\n"@ |  Out-File -FilePath ".env" -Encoding ASCII\n\n\n@"\nversion: "3.8"\nservices:\n  mysqldb:\n    image: mysql:5.7\n    command: --default-authentication-plugin=mysql_native_password\n    restart: always\n    environment:\n      MYSQL_ROOT_PASSWORD: `$MYSQLDB_ROOT_PASSWORD\n      MYSQL_DATABASE: `$MYSQLDB_DATABASE\n    ports:\n      - `$MYSQLDB_LOCAL_PORT:3306\n    expose:\n      - 3306\n    volumes:\n      - db:/var/lib/mysql\n    healthcheck:\n      test: mysqladmin ping -h 127.0.0.1 -uroot --password=$`$MYSQL_ROOT_PASSWORD\n      timeout: 10s\n      retries: 10\n\n  leemons:\n    image: leemonade/leemons:dev\n    restart: always\n    stdin_open: true\n    tty: true\n    ports:\n      - `$NODE_LOCAL_PORT:8080\n    environment:\n      DATABASE_HOST: mysqldb\n      DATABASE_PORT: 3306\n      DATABASE_USERNAME: root\n      DATABASE_DATABASE: `$MYSQLDB_DATABASE\n      DATABASE_PASSWORD: `$MYSQLDB_ROOT_PASSWORD\n    depends_on:\n      mysqldb:\n        condition: service_healthy\nvolumes:\n  db:\n"@ | Out-File -FilePath $FILE -Encoding ASCII\n\n  "docker-compose up" | Out-File -FilePath launch-leemons.ps1 -Encoding ASCII\n}\n\n.("./launch-leemons.ps1")\n\nPause\n')),(0,i.kt)("p",null,"  Now you only need to run the file, this can differ based on your windows version:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Windows10"),": Right click the file and select ",(0,i.kt)("inlineCode",{parentName:"li"},"open with powershell")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Windows11"),": Right click the file and select ",(0,i.kt)("inlineCode",{parentName:"li"},"run with powershell")))),(0,i.kt)(l.Z,{value:"linux",label:"Linux and Mac",mdxType:"TabItem"},(0,i.kt)("p",null,"  Using leemons-docker is as easy as running a bash script, this script will generate all the needed files, if they are already downloaded, it will directly run leemons."),(0,i.kt)("p",null,"  Download the file ahead to your desired directory (keep in mind it will generate files)."),(0,i.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Download name and directory")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"  We recommend downloading in: ",(0,i.kt)("inlineCode",{parentName:"p"},"/my-docker-leemons/leemons.ps1")))),(0,i.kt)("p",null,"  ",(0,i.kt)("a",{target:"_blank",href:t(9362).Z},"Download leemons.sh")),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Or see the code"),(0,i.kt)(r.Z,{language:"bash",title:"leemons.sh",showLineNumbers:!0,mdxType:"CodeBlock"},'#!/bin/bash\n\nFILE=./docker-compose.yaml\n\nif [ -x "$(command -v docker)" ]; then\n    echo "Docker is installed"\n    # command\nelse\n    echo "Please install Docker before continue!"\n    exit 0\nfi\n\nif [ -f "$FILE" ]; then\n  echo "Config files already created."\nelse\n  printf "MYSQLDB_USER=root\nMYSQLDB_ROOT_PASSWORD=leemons\nMYSQLDB_DATABASE=leemons\nMYSQLDB_LOCAL_PORT=3307\nNODE_LOCAL_PORT=8080" >> .env\n\n  printf "version: \\"3.8\\"\nservices:\n  mysqldb:\n    image: mysql:5.7\n    command: --default-authentication-plugin=mysql_native_password\n    restart: always\n    environment:\n      MYSQL_ROOT_PASSWORD: \\$MYSQLDB_ROOT_PASSWORD\n      MYSQL_DATABASE: \\$MYSQLDB_DATABASE\n    ports:\n      - \\$MYSQLDB_LOCAL_PORT:3306\n    expose:\n      - 3306\n    volumes:\n      - db:/var/lib/mysql\n    healthcheck:\n      test: mysqladmin ping -h 127.0.0.1 -uroot --password=\\$\\$MYSQL_ROOT_PASSWORD\n      timeout: 10s\n      retries: 10\n\n  leemons:\n    image: leemonade/leemons:dev\n    restart: always\n    stdin_open: true\n    tty: true\n    ports:\n      - \\$NODE_LOCAL_PORT:8080\n    environment:\n      DATABASE_HOST: mysqldb\n      DATABASE_PORT: 3306\n      DATABASE_USERNAME: root\n      DATABASE_DATABASE: \\$MYSQLDB_DATABASE\n      DATABASE_PASSWORD: \\$MYSQLDB_ROOT_PASSWORD\n    depends_on:\n      mysqldb:\n        condition: service_healthy\n\nvolumes:\n  db:\n" >> docker-compose.yaml\n\n  printf "docker-compose up" >> launch-leemons.sh\nfi\n\nsh launch-leemons.sh\n')),(0,i.kt)("p",null,"  Now you only need to run the file, this can differ based on your operating system:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Firstly, you need to open the terminal."),(0,i.kt)("li",{parentName:"ol"},"Now navigate to your desired folder: ",(0,i.kt)("inlineCode",{parentName:"li"},"cd /my-docker-leemons")),(0,i.kt)("li",{parentName:"ol"},"Check that the file exists: ",(0,i.kt)("inlineCode",{parentName:"li"},"ls leemons.sh"),", it should print the file name, otherwise, review the path"),(0,i.kt)("li",{parentName:"ol"},"Finally, run the script with ",(0,i.kt)("inlineCode",{parentName:"li"},"sh leemons.sh"))),(0,i.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Some operating systems let you drag and drop the folder to your terminal to paste the path, you can type ",(0,i.kt)("inlineCode",{parentName:"p"},"cd")," and drag and drop it to complete the command."))))),(0,i.kt)("p",null,"Once running, it will start downloading some files and docker stuff (it may take a few minutes), once ready, you should see something like this:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Leemons backend server being initialized when printing &#39;Listening on http://localhost:8080&#39;",src:t(2806).Z,width:"1598",height:"348"})),(0,i.kt)("p",null,"When the server is ready, open a new tab in your browser, and navigate to ",(0,i.kt)("a",{parentName:"p",href:"http://localhost:8080"},"http://localhost:8080")),(0,i.kt)("h2",{id:"3-bulk-data-creation-template-configuration"},"3. Bulk data creation template configuration"),(0,i.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"NOT SUPPORTED YET")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Currently the bulk templates are not yet supported for docker"))),(0,i.kt)("h2",{id:"4-initial-configuration"},"4. Initial configuration"),(0,i.kt)("p",null,"The first run you will need to set up some things, follow the steps and enter your information."),(0,i.kt)("p",null,"Once you get to the email provider, we recommend using a ",(0,i.kt)("em",{parentName:"p"},"free smtp server"),", or if you have one, go and try it."),(0,i.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"We recommend using ",(0,i.kt)("a",{parentName:"p",href:"https://www.wpoven.com/tools/free-smtp-server-for-testing"},"this free smtp server"),", we have tried it and works like a charm."))),(0,i.kt)("h2",{id:"5-database"},"5. Database"),(0,i.kt)("p",null,"Leemons docker uses a MySQL server internally, which is configured through the .env file in your directory"),(0,i.kt)("h2",{id:"6-reset-the-installation"},"6. Reset the installation"),(0,i.kt)("p",null,"In order to reset your Leemons installation, you need to clean your docker images, this can be done with the following command inside your ",(0,i.kt)("inlineCode",{parentName:"p"},"my-docker-leemons")," directory:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"docker-compose down;\ndocker rmi --force $(docker images leemonade/leemons -q);\n")))}v.isMDXComponent=!0},3431:function(e,n,t){n.Z=t.p+"assets/files/leemons-915b533331f9ae38be8ffd5b9eaed34d.ps1"},9362:function(e,n,t){n.Z=t.p+"assets/files/leemons-5cf5594faa377f5a85703f55f79b0812.sh"},2806:function(e,n,t){n.Z=t.p+"assets/images/serverReady-485d7eec2aef3e8ca039baaa23e6236a.png"}}]);